---
sidebar: sidebar 
permalink: migration/shift-toolkit-install.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= Instalar y configurar Shift Toolkit para el almacenamiento de ONTAP
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Instale Shift Toolkit en una máquina virtual dedicada que ejecute un sistema operativo Windows, utilizando opciones de instalación en línea o fuera de línea.  Este proceso implica revisar los requisitos de instalación, configurar las máquinas virtuales de almacenamiento ONTAP (SVM), los qtrees y los recursos compartidos CIFS, descargar el paquete de instalación y ejecutar el instalador.



== Preparación para la instalación

El kit de herramientas Shift se puede ejecutar en las versiones de Windows 2019 y 2022.

* Descargue el paquete de herramientas Shift desdelink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["Caja de herramientas de NetApp"]
* Descomprima el paquete
* Ejecute el exe para instalar e iniciar el servicio.


El kit de herramientas Shift proporciona 2 paquetes:

* En línea (~130 MB de tamaño), y
* Sin conexión (tamaño aproximado: 1,1 GB).


Como indica el nombre, el paquete de instalación en línea descarga e instala los requisitos previos necesarios a través de Internet desde el depósito S3 propiedad de Shift Toolkit.

image:shift-toolkit-003.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

Si bien la instalación en línea ofrece comodidad, la instalación fuera de línea proporciona más control sobre el proceso de instalación.  Con el paquete de instalación sin conexión, todos los requisitos previos necesarios están incluidos en el paquete para instalar el kit de herramientas Shift.  Una de las principales ventajas de la instalación sin conexión es que permite instalar Shift Toolkit en máquinas virtuales sin conexión a Internet.


TIP: Utilice el paquete apropiado para la implementación.  Con el modo sin conexión, no es necesario modificar la configuración del proxy, ya que todos los requisitos previos y los archivos necesarios están incluidos.

El kit de herramientas Shift se puede instalar en una máquina virtual que ejecute un servidor VMware o Microsoft Hyper-V siempre que haya conectividad entre los entornos de origen y de destino, y se recomienda instalar el kit de herramientas Shift en su propia máquina virtual.  Este enfoque le permite apuntar a diferentes servidores Microsoft Hyper-V o servidores VMware ESXi con un único servidor Shift Toolkit.


NOTE: Instalar el kit de herramientas Shift en una máquina virtual dedicada.



== Requisitos previos para la instalación



=== Requisitos de hardware

Asegúrese de que el host del servidor Shift cumpla con los requisitos mínimos de hardware.

Requisitos de hardware:

* CPU: 4 vCPU
* Memoria: 8 GB mínimo
* Espacio en disco: mínimo 100 GB



NOTE: Debe tener 650 MB de espacio en disco disponible para la instalación.



=== Requisitos de conectividad

* Asegúrese de que el hipervisor y el entorno de almacenamiento estén configurados para que Shift Toolkit pueda interactuar correctamente con todos los componentes del entorno.
* El kit de herramientas Shift debe instalarse en un servidor Windows independiente (físico o virtual).
* El servidor Shift, el servidor CIFS de Data ONTAP y los servidores Hyper-V deben estar en el mismo dominio de Windows Active Directory.
* Se admiten varios LIF para CIFS y NFS para usar con Storage Virtual Machine al realizar conversiones de VM.  El servidor Hyper-V y los hosts ESXi acceden a la máquina virtual de almacenamiento (SVM) en las direcciones IP de estos LIF.
* Para las operaciones CIFS, las configuraciones de hora del controlador de dominio de Windows y del controlador de almacenamiento de NetApp deben estar sincronizadas.




== Configuraciones de almacenamiento de ONTAP



=== Crear un nuevo SVM (recomendado)

Si bien el kit de herramientas Shift permite el uso de una SVM existente, una buena práctica de NetApp es crear una nueva SVM.  Mueva las máquinas virtuales que se migrarán o convertirán a un nuevo almacén de datos NFS v3 designado que reside en una máquina virtual de almacenamiento (SVM) Data ONTAP dedicada mediante Storage vMotion.  Esta migración basada en svmotion se realiza sin ningún tiempo de inactividad para la máquina virtual.  Con este enfoque, las máquinas virtuales que se designan para migrar no residen en la SVM de producción.  Utilice la CLI de ONTAP , el kit de herramientas NetApp PowerShell o el Administrador del sistema para crear la nueva SVM.

Siga los pasos que se proporcionan en estelink:https://docs.netapp.com/us-en/ontap/networking/create_svms.html["enlace"] para aprovisionar una nueva SVM que permita el protocolo NFS y SMB.


NOTE: Es una buena práctica crear un nuevo SVM para asegurarse de que cumpla con los requisitos del kit de herramientas Shift sin tener que modificar el SVM de producción en formas que puedan ser disruptivas.


NOTE: Para las migraciones de Hyper-V, la nueva SVM debe tener habilitados los protocolos NFS y SMB.  El volumen aprovisionado también debe tener NFS y SMB habilitados.  Si el destino son hipervisores basados en KVM, entonces el SVM debe tener habilitado el protocolo NFS.



=== Requisitos de Qtree

Se debe crear un qtree en el volumen que se utilizará para alojar las máquinas virtuales que se convertirán de VMware a Hyper-V con el fin de segregar y almacenar los archivos VHDX o para los archivos qcow2 o VHDX que se convertirán desde VMDK.

* Para la conversión de ESX a Hyper-V, el kit de herramientas Shift coloca los VHDX convertidos en un qtree (con estilo de seguridad NTFS) dentro del mismo volumen.
* Para las conversiones de ESX VMDK a QCOW2, se debe utilizar un qtree con estilo de seguridad UNIX.


El kit de herramientas Shift no verifica el estilo de seguridad del qtree.  Por lo tanto, es importante crear el qtree con el estilo de seguridad apropiado según el hipervisor de destino y el tipo de disco.


NOTE: La ruta de destino debe estar en el mismo volumen de la máquina virtual de origen.


NOTE: Asigne el estilo de seguridad correcto al qtree según el tipo de hipervisor de destino y el formato del disco.


NOTE: Si los archivos qcow2 convertidos están destinados a usarse con la virtualización OpenShift, hay una excepción: estos archivos se pueden colocar directamente en el volumen sin utilizar un qtree.  Para lograr esto, utilice las API del kit de herramientas Shift para convertir archivos VMDK al formato qcow2 y colocarlos directamente dentro del volumen.

Siga los pasos que se proporcionan en estelink:https://docs.netapp.com/us-en/ontap/nfs-config/create-qtree-task.html["enlace"] para crear un qtree con el estilo de seguridad adecuado.

image:shift-toolkit-004.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]



=== Requisitos para compartir CIFS:

Para las migraciones de Hyper-V, cree un recurso compartido donde se almacenarán los datos de la máquina virtual convertida.  Asegúrese de que el recurso compartido NFS (utilizado para almacenar las máquinas virtuales que se convertirán) y el recurso compartido de destino (utilizado para almacenar las máquinas virtuales convertidas) residan en el mismo volumen.  El kit de herramientas Shift no admite la expansión en múltiples volúmenes.

Siga los pasos que se proporcionan en estelink:https://docs.netapp.com/us-en/ontap/smb-config/create-share-task.html["enlace"] para crear la acción con las propiedades adecuadas.  Asegúrese de seleccionar la propiedad de disponibilidad continua junto con las otras predeterminadas.

image:shift-toolkit-005.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

image:shift-toolkit-006.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]


NOTE: Se debe habilitar SMB 3.0, esta opción está habilitada de forma predeterminada.


NOTE: Asegúrese de que la propiedad esté disponible de forma continua.


NOTE: Las políticas de exportación para SMB deben estar deshabilitadas en la máquina virtual de almacenamiento (SVM)


NOTE: El dominio al que pertenecen el servidor CIFS y los servidores Hyper-V debe permitir la autenticación Kerberos y NTLMv2.


NOTE: ONTAP crea el recurso compartido con el permiso de recurso compartido predeterminado de Windows de Todos/Control total.



== Sistemas operativos compatibles

Asegúrese de que se utilicen versiones compatibles de los sistemas operativos invitados Windows y Linux para la conversión y que Shift Toolkit admita la versión de ONTAP.

*Sistemas operativos invitados de VM compatibles*

Las siguientes versiones de Windows son compatibles como sistemas operativos invitados para conversiones de máquinas virtuales:

* Ventanas 10
* Windows 11
* Servidor Windows 2016
* Servidor Windows 2019
* Servidor Windows 2022
* Servidor Windows 2025


Las siguientes versiones de Linux son compatibles como sistemas operativos invitados para conversiones de máquinas virtuales:

* CentOS Linux 7.x
* Red Hat Enterprise Linux 6.7 o posterior
* Red Hat Enterprise Linux 7.2 o posterior
* Red Hat Enterprise Linux 8.x
* Red Hat Enterprise Linux 9.x
* Ubuntu 2018
* Ubuntu 2022
* Ubuntu 2024
* Debian 10
* Debian 11
* Debian 12
* Suse 12
* Suse 15



NOTE: CentOS Linux/RedHat para Red Hat Enterprise Linux 5 no es compatible.


NOTE: Windows Server 2008 no es compatible, pero el proceso de conversión debería funcionar bien.  Proceda bajo su propio riesgo; sin embargo, hemos recibido informes de clientes que utilizaron con éxito el kit de herramientas Shift para convertir máquinas virtuales de Windows 2008.  Es importante actualizar la dirección IP después de la migración, ya que la versión de PowerShell utilizada para automatizar la asignación de IP no es compatible con la versión anterior que se ejecuta en Windows Server 2008.

*Versiones compatibles de ONTAP*

El kit de herramientas Shift es compatible con plataformas que ejecutan ONTAP 9.14.1 o posterior

*Versiones compatibles de hipervisores*

VMware: el kit de herramientas Shift está validado con vSphere 7.0.3 y versiones posteriores Hyper-V: el kit de herramientas Shift está validado con la función Hyper-V que se ejecuta en Windows Server 2019, Windows Server 2022 y Windows Server 2025


NOTE: En la versión actual, la migración de máquinas virtuales de extremo a extremo solo se admite con Hyper-V.


NOTE: En la versión actual, para KVM como destino, la conversión de VMDK a qcow2 es el único flujo de trabajo compatible.  Por lo tanto, si se selecciona KVM en el menú desplegable, no se requieren detalles del hipervisor.  El disco qcow2 se puede utilizar para aprovisionar máquinas virtuales en variantes KVM.



== Instalación

. Descargarlink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["Paquete de herramientas Shift"] y descomprimirlo.
+
image:shift-toolkit-007.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. Inicie la instalación del kit de herramientas Shift haciendo doble clic en el archivo .exe descargado.
+
image:shift-toolkit-008.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

+

NOTE: Se realizan todas las comprobaciones previas y, si no se cumplen los requisitos mínimos, se muestran mensajes de error o advertencia correspondientes.

. El instalador comenzará el proceso de instalación.  Seleccione la ubicación adecuada o utilice la ubicación predeterminada y haga clic en Siguiente.
+
image:shift-toolkit-009.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. El instalador le pedirá que seleccione la dirección IP que se utilizará para acceder a la interfaz de usuario del kit de herramientas Shift.
+
image:shift-toolkit-010.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

+

NOTE: El proceso de configuración permite seleccionar la dirección IP correcta mediante una opción desplegable si la VM está asignada con múltiples NIC.

. En este paso, el instalador muestra todos los componentes necesarios que se descargarán e instalarán automáticamente como parte del proceso.  Los siguientes son los componentes obligatorios que deben instalarse para el correcto funcionamiento del kit de herramientas Shift: MongoDB, Windows PowerShell 7, NetApp ONTAP PowerShell Toolkit, editor de archivos de políticas, Credential Manage, paquete VMware.PowerCLI y Java OpenJDK, todos incluidos en el paquete.
+
Haga clic en *Siguiente*

+
image:shift-toolkit-011.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. Revise la información de licencia GNU de JAVA OpenJDK. Haga clic en Siguiente.
+
image:shift-toolkit-012.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. Mantenga la configuración predeterminada para crear el acceso directo del escritorio y haga clic en Siguiente.
+
image:shift-toolkit-013.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. La configuración ya está lista para continuar con la instalación.  Haga clic en Instalar.
+
image:shift-toolkit-014.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. La instalación comenzará y el proceso descargará los componentes necesarios y los instalará.  Una vez hecho esto, haga clic en Finalizar.
+
image:shift-toolkit-015.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]




NOTE: Si la máquina virtual del kit de herramientas Shift no tiene Internet, el instalador sin conexión realizará los mismos pasos pero instalará los componentes utilizando los paquetes incluidos en el ejecutable.

image:shift-toolkit-016.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]


NOTE: La instalación puede tardar entre 8 y 10 minutos.



== Realizar una actualización

Descargar ellink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit/download["paquete de actualización"] Comience con "actualizar" y siga los pasos a continuación:

image:shift-toolkit-017.png["Figura que muestra el diálogo de entrada/salida o representa contenido escrito"]

. Extraiga los archivos a una carpeta designada.
. Después de la extracción, detenga el servicio NetApp Shift.
. Copie todos los archivos de la carpeta extraída al directorio de instalación y sobrescriba los archivos cuando se le solicite.
. Una vez hecho esto, ejecute update.bat usando la opción "Ejecutar como administrador" e ingrese la IP de la VM de Shift Toolkit cuando se le solicite.
. Este proceso actualizará e iniciará el servicio Shift.

